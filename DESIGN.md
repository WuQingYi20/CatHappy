# 🐱 专业要饭猫陪读器 - 完整设计文档

## 一、产品定位

**核心概念：** 一只虚拟的猫咪陪伴主人学习，提供番茄钟计时、学习记录、温暖鼓励

**目标用户：** 菜疯子（N3备考中，deadline压力大）

**使用场景：** 学习时打开网页，猫咪陪伴，定时提醒休息

**情感基调：** 温暖、陪伴、服务，带点俏皮

## 二、核心功能模块

### 2.1 番茄钟计时器（核心）

**功能细节：**
- 默认25分钟学习 + 5分钟休息
- 可自定义时长（20/25/30/45分钟）
- 大而清晰的倒计时显示
- 开始/暂停/重置按钮
- 音效提示（可关闭）

**猫咪状态联动：**
- 学习中：猫咪安静趴着/偶尔翻书
- 休息中：猫咪伸懒腰/打哈欠/玩耍
- 暂停时：猫咪看向用户，歪头
- 完成时：猫咪开心跳跃

### 2.2 猫咪陪伴系统

**猫咪外观：**
- Pixel art风格或简约插画风
- 橙白色猫咪（温暖亲切）
- 3-5种基础状态切换

**互动功能：**
- 点击猫咪：喵叫 + 小动画（摇尾巴、舔爪子）
- 长按猫咪：特殊反应（蹭蹭、打呼噜）
- 随机idle动画（每30-60秒）

**动画状态库：**

学习态：
- 趴着看书（主要）
- 偶尔眨眼
- 轻微呼吸起伏
- 偶尔舔爪子

休息态：
- 伸懒腰（180度弓背）
- 打哈欠
- 翻滚
- 追尾巴

互动态：
- 歪头看你
- 举起爪子
- 蹭屏幕
- 打呼噜（震动效果）

### 2.3 鼓励语系统

**触发时机：**
- 开始学习时：随机鼓励
- 完成1个番茄钟：祝贺
- 完成3/5/10个：里程碑庆祝
- 休息时：温柔提醒
- 连续学习过久：提醒休息

**文案库（中日双语）：**

开始学习：
- "主人加油喵~ (がんばって)"
- "陪主人一起学习！"
- "今天也要努力哦 (^･ω･^)"

完成番茄钟：
- "主人好棒！(すごい!)"
- "又完成一个，离N3更近了~"
- "休息一下吧，奖励摸摸头 ฅ^•ﻌ•^ฅ"

里程碑：
- 3个："已经坚持这么久了！主人超厉害！"
- 5个："五个番茄钟！专业要饭猫都吃饱了~"
- 10个："十个！！主人今天太拼了，必须休息！"

休息提醒：
- "主人休息一下吧，猫咪会等你的~"
- "劳逸结合才能学得更好喵"
- "去喝杯水，活动活动 (｡･ω･｡)"

专属彩蛋（只有你们懂的梗）：
- [这里需要添加一些合租时的梗/回忆]
- 比如："还记得XX吗？现在的你更厉害了！"

### 2.4 学习数据统计

**今日数据：**
- 完成的番茄钟数
- 累计学习时长
- 开始时间

**历史数据：**
- 7日学习趋势（简单折线图）
- 总累计时长
- 连续学习天数

**可视化：**
- 简洁的进度条
- 小猫"吃饱"程度（番茄钟越多，猫越满足）

## 三、UI/UX设计

### 3.1 整体布局

```
┌─────────────────────────────────┐
│         🐱 专业要饭猫            │  ← 标题
├─────────────────────────────────┤
│                                 │
│        [猫咪动画区域]            │  ← 中心，大
│         (300x300px)             │
│                                 │
├─────────────────────────────────┤
│        "主人加油喵~"             │  ← 鼓励语
├─────────────────────────────────┤
│         25:00                   │  ← 倒计时（大字）
│    ┌────┐ ┌────┐ ┌────┐        │
│    │开始│ │暂停│ │重置│         │  ← 控制按钮
│    └────┘ └────┘ └────┘        │
├─────────────────────────────────┤
│   📊 今日: 3个番茄钟 / 75分钟    │  ← 统计
│   🔥 连续学习: 5天               │
└─────────────────────────────────┘
```

### 3.2 配色方案

```css
主色调：
- 背景：#FFF9F0 (温暖米白)
- 卡片：#FFFFFF (纯白)
- 猫咪：#FF9F66 (暖橙) + #FFFFFF (白)
- 文字：#4A4A4A (深灰)
- 强调：#FF6B6B (番茄红，用于计时器)

辅助色：
- 成功绿：#51CF66
- 休息蓝：#74C0FC
- 阴影：rgba(0,0,0,0.05)
```

### 3.3 字体

- 标题：思源黑体 / Noto Sans SC (700)
- 正文：思源黑体 / Noto Sans SC (400)
- 数字：SF Mono / Roboto Mono (大计时器)
- 日语：Noto Sans JP

### 3.4 响应式设计

**桌面 (>768px):**
- 最大宽度 600px，居中
- 猫咪动画 300x300px

**平板/手机 (<768px):**
- 全宽，左右padding 20px
- 猫咪动画 200x200px
- 按钮堆叠显示

## 四、技术架构

### 4.1 技术栈

```json
{
  "framework": "React 18",
  "build": "Vite",
  "styling": "Tailwind CSS",
  "animation": "Framer Motion",
  "icons": "Lucide React",
  "sound": "Howler.js",
  "storage": "LocalStorage",
  "deployment": "Vercel"
}
```

### 4.2 项目结构

```
tomato-cat/
├── src/
│   ├── components/
│   │   ├── Cat.jsx              # 猫咪组件
│   │   ├── Timer.jsx            # 番茄钟
│   │   ├── Controls.jsx         # 控制按钮
│   │   ├── Message.jsx          # 鼓励语
│   │   ├── Stats.jsx            # 统计面板
│   │   └── Settings.jsx         # 设置（可选）
│   ├── hooks/
│   │   ├── useTimer.js          # 计时器逻辑
│   │   ├── useStats.js          # 统计数据
│   │   └── useSound.js          # 音效控制
│   ├── utils/
│   │   ├── messages.js          # 鼓励语库
│   │   └── storage.js           # LocalStorage封装
│   ├── assets/
│   │   ├── sounds/              # 音效文件
│   │   └── cat-sprites/         # 猫咪图像
│   ├── App.jsx
│   └── main.jsx
├── public/
│   └── favicon.ico
└── package.json
```

### 4.3 核心数据结构

```javascript
// Timer State
{
  duration: 1500,        // 25分钟 (秒)
  remaining: 1500,
  isRunning: false,
  mode: 'work'           // 'work' | 'break'
}

// Stats Data (存储在LocalStorage)
{
  today: {
    date: '2025-11-05',
    pomodoros: 3,
    minutes: 75,
    startTime: '09:00'
  },
  history: [
    { date: '2025-11-04', pomodoros: 5, minutes: 125 },
    { date: '2025-11-03', pomodoros: 4, minutes: 100 }
  ],
  streak: 5              // 连续天数
}

// Cat State
{
  currentAnimation: 'idle',
  mood: 'happy',         // 'happy' | 'sleepy' | 'excited'
  lastInteraction: timestamp
}
```

## 五、详细交互流程

### 5.1 首次访问流程

```
1. 用户打开链接
   ↓
2. 显示欢迎动画（猫咪从屏幕下方跳出）
   ↓
3. 猫咪说话："喵~ 我是专业要饭猫，来陪主人学习的！"
   ↓
4. 显示主界面（计时器默认25分钟）
   ↓
5. 等待用户点击"开始"
```

### 5.2 学习流程

```
用户点击"开始"
   ↓
计时器倒计时开始
猫咪切换到"学习态"（趴着看书）
显示鼓励语："主人加油喵~"
   ↓
[学习中]
- 每5分钟：猫咪换个姿势（保持新鲜感）
- 每10分钟：更新鼓励语
- 剩余5分钟：提示"快完成了！"
   ↓
25分钟到
播放提示音（柔和的铃声）
猫咪跳跃庆祝："完成啦！(๑•̀ㅂ•́)و✧"
自动统计+1
提示："休息5分钟吧~"
   ↓
自动切换到休息倒计时
猫咪切换到"休息态"（伸懒腰）
   ↓
休息结束
提示："要继续学习吗？"
等待用户选择
```

### 5.3 里程碑触发

**完成3个番茄钟：**
- 猫咪做特殊动画（360度旋转）
- 显示："主人已经学了75分钟！好厉害！"
- 小烟花效果

**完成5个番茄钟：**
- 猫咪吃饱躺平
- "专业要饭猫吃饱了~ 主人记得也吃点东西哦"

**完成10个番茄钟：**
- 猫咪hold住一个牌子："休息是必须的！"
- 强制建议休息15分钟

## 六、特殊功能设计

### 6.1 彩蛋系统

**触发条件彩蛋：**

```javascript
// 首次完成番茄钟
if (isFirstPomodoro) {
  message = "第一个番茄钟！开始总是最难的，主人迈出了第一步！";
}

// 深夜学习（23:00-6:00）
if (isLateNight) {
  message = "这么晚了还在学习...猫咪心疼主人 (｡•́︿•̀｡)";
  catMood = 'worried';
}

// 周末
if (isWeekend) {
  message = "周末也这么努力！不过也要记得休息哦~";
}

// 连续7天
if (streak === 7) {
  message = "一周连续学习！主人的毅力让猫咪佩服！🎉";
  showConfetti();
}
```

**专属记忆彩蛋（需要提供内容）：**

```javascript
// 示例：假设你们合租时有个梗关于"半夜泡面"
if (totalPomodoros === 15) {
  message = "15个番茄钟了！比当时半夜赶DDL吃泡面还拼呢~ 😂";
}

// 假设你们有个关于"周日早起"的梗
if (isSundayMorning) {
  message = "周日早起学习！记得你说过最讨厌周日早起哈哈";
}
```

### 6.2 音效设计

**需要的音效（可选）：**
- ✅ 番茄钟完成：柔和的铃声（类似风铃）
- ✅ 点击按钮：轻微的"咔哒"声
- ✅ 猫咪互动：轻柔的"喵~"
- ❌ 避免：刺耳、突兀、太大声的音效

**音效来源：**
- freesound.org
- zapsplat.com
- 或使用Web Audio API生成简单音效

### 6.3 PWA功能（可选，加分项）

```json
// manifest.json
{
  "name": "专业要饭猫",
  "short_name": "要饭猫",
  "description": "N3备考陪读猫咪",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#FFF9F0",
  "theme_color": "#FF9F66",
  "icons": [
    {
      "src": "/cat-icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    }
  ]
}
```

**好处：**
- 她可以"添加到主屏幕"
- 打开时像原生应用
- 离线也能用（service worker）
